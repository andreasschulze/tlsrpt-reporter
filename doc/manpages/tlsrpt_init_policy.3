'\" t
.\"     Title: tlsrpt_init_policy
.\"    Author: Boris Lohner
.\" Generator: Asciidoctor 1.5.6.1
.\"      Date: 2024-11-06
.\"    Manual: tlsrpt_init_policy
.\"    Source: tlsrpt_init_policy
.\"  Language: English
.\"
.TH "TLSRPT_INIT_POLICY" "3" "2024-11-06" "tlsrpt_init_policy" "tlsrpt_init_policy"
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.ss \n[.ss] 0
.nh
.ad l
.de URL
\\$2 \(laURL: \\$1 \(ra\\$3
..
.if \n[.g] .mso www.tmac
.LINKSTYLE blue R < >
.SH "NAME"
tlsrpt_init_policy \- initializes a new policy within an existing delivery request
.SH "SYNOPSIS"
.sp
#include <tlsrpt.h>
.sp
int tlsrpt_init_policy(struct tlsrpt_dr_t* dr, tlsrpt_policy_type_t policy_type, * const char* policydomainname)
.SH "DESCRIPTION"
.sp
The \f[CR]tlsrpt_init_policy\fP function initializes a new policy within an existing delivery request.
A delivery request must contain at least one policy.
.sp
The policy must be properly completed by calls to some of the following functions and a final call to \f[CR]tlsrpt_finish_policy\fP.
.if n \{\
.sp
.\}
.RS 4
.it 1 an-trap
.nr an-no-space-flag 1
.nr an-break-flag 1
.br
.ps +1
.B Note
.ps -1
.br
.sp
An unfinished policy after some properly finished policies will result in the whole delivery request datagram to fail and not being sent out at all, so the other already completed policies wonÂ´t be reported either!
.sp .5v
.RE
.SH "RETURN VALUE"
.sp
The tlsrpt_init_policy function returns 0 on success and a combined error code on failure.
The combined error code can be analyzed with the \fItlsrpt_strerror\fP function.
.SH "SEE ALSO"
.sp
\fBtlsrpt_finish_policy\fP(3), \fBtlsrpt_strerror\fP(3), \fBtlsrpt_error_code_is_internal\fP(3)
.SH "AUTHOR(S)"
.sp
\fBBoris Lohner\fP
.RS 4
Author(s).
.RE